exec silent
mysql -u user -p'password'  -h '0.0.0.0' -P 3306 --database=defaultdb --execute="DROP TABLE IF EXISTS test_table; CREATE TABLE test_table (integer_col INT PRIMARY KEY, smallint_col SMALLINT, bigint_col BIGINT NOT NULL, decimal_col DECIMAL(10,2), float_col FLOAT, double_col DOUBLE, bit_col BIT NOT NULL, date_col DATE, datetime_col DATETIME, timestamp_col TIMESTAMP, time_col TIME NOT NULL, char_col CHAR(10), varchar_col VARCHAR(255), binary_col BINARY(20), varbinary_col VARBINARY(255), blob_col BLOB, text_col TEXT NOT NULL, mediumtext_col MEDIUMTEXT, longtext_col LONGTEXT, json_col JSON, enum_col ENUM('value1', 'value2', 'value3') DEFAULT 'value2');"
----

exec silent
docker exec -t github-mysql-1 mysql -u root -e 'GRANT FILE, SELECT on *.* to user;'
----

exec silent
docker cp ../.github/e2esampledata/mysql_sampledata.csv  github-mysql-1:/var/lib/mysql-files
----

exec silent
mysql -u user -p'password'  -h '0.0.0.0' -P 3306 --database=defaultdb --execute="LOAD DATA INFILE '/var/lib/mysql-files/mysql_sampledata.csv' INTO TABLE test_table FIELDS TERMINATED BY ',' ENCLOSED BY '\"' LINES TERMINATED BY '\n' IGNORE 1 ROWS (integer_col, smallint_col, bigint_col, decimal_col, float_col, double_col, @bit_col, date_col, datetime_col, timestamp_col, time_col, char_col, varchar_col, binary_col, varbinary_col, blob_col, text_col, mediumtext_col, longtext_col, @json_col) SET bit_col = CAST(@bit_col AS SIGNED), json_col = JSON_PRETTY(@json_col);"
----

exec
mysql -u user -p'password'  -h '0.0.0.0' -P 3306 --database=defaultdb --execute="SELECT * FROM test_table ORDER BY integer_col LIMIT 5"
----
integer_col	smallint_col	bigint_col	decimal_col	float_col	double_col	bit_col	date_col	datetime_col	timestamp_col	time_col	char_col	varchar_col	binary_col	varbinary_col	blob_col	text_col	mediumtext_col	longtext_col	json_col	enum_col
0	13	281502	747.42	918.9	351.68		2024-02-28	2024-02-26 17:34:06	2024-02-26 17:34:06	02:03:40	G91HNTU2Z3	83LXV43UETQRIFV8MFHSFNBOWL256R0MNTK7ZBQSOOD3Y8H1BJDHOKBG88NTHJQ99YTRW38R9O56UY9T4ZU8SIDY9VGF8QXC471CI418SEVD9IINPCBXJDIP910DXC2JX8S7N5W3JI132IUC3WVT4E1PW4GE4A	'b''QLDS80'''\0\0\0\0\0\0\0	'b''3GXC3E3'''	'b''6KEJOIFEWZ7PXFWM8AT0EVZXOTSGTZKNOKFK82JN0U5QY2IKO5KDSWQ4O1LA1RELSTWKAXRAF2JG12GWLYH4FDLS6O8ANX63A9AF5PY6FVUDP4GR866Q4E8NXA840CFNLUEQXUR9ZIAA6MCW1R7SBB1E6YWGCPVEN9GWKIDUDX0HB8PVMNE47MGL8HJGP15DIFRLAYLM9TMQ8JI8YCDABEQSIVEH2ZJRCLA6ZM9GHLCBJYL8ZJWMPU56EDMB3B'''	J0WTB4OGVHINVG7141CQDY7ZBWPWORDJMSAH104734QD0CSVEBN5	ACULVIAMIJCIJ7ROC39JND00PDNEN86JXXUI03P2PMWMYSEV0LOGRCQDVTXO3M8T6BIOKZ64YKLNSUI99JIVJRRVTWWKTPT1N020PA6KCE7TC4V9DHZA5540R31QS0CUA6Z2SUERKW5MTLO319A9NPXCMRZ	B92SCFGQ4RYWS5C3O1ST0VVA2X5L0I96C61N05QH337HANXZM53H056DO134ZXRETOYDU18JGIJQ9I2KJPFENUIX3HL9V6V4VRTGOLNOTRMMUA4O6QFILX66FTPAMZP621DYMTEG88UE4GR8EJVLCWA6	{"key": "value"}	value2
1	76	543316	208.68	930.58	232.24	\0	2024-02-28	2024-02-19 11:52:04	2024-02-19 11:52:04	10:02:37	6UMOWJ7TAJ	WUHSME0CELK3640KXHC6H5ECIN6WNQQEM0GNYLGXEC0Z7QXIA1J	'b''UH2KZH'''\0\0\0\0\0\0\0	'b''ILT'''	'b''BTT40APNUSDRYVXEEBBMMY1RZX54TZXCY37Z83KFQ8RH9OEP1J0SHHO6UG88CK0KTL8LMY820KCITDZK5R7WKZBDPQSZC8R0YARYARIHEU7VQK22CRLS'''	R58A3SJOFY2J18Z7NQH1QZBHJYNSMWM0AB0L5VEEUEVZN220CMUER9QWGI9FBBCH4H1Q4EYVSKKFIOAEZ56G3MGI7IECJQB5LZP1CMM9LEYTFI3KYOROYRDFUNR9WBJ6JU10AL3TMAXB8TSYEO5CIL3HWZTKOG3HE9TXA0FKI1B8ZU3Q4OYMT5HS8ASZOASIQP042BZ8BX6LUT3E3XKPIA1NU20ZLV43216EG	V2PFF1L2Y6QQKMEOVSFEGD37MF91TGZWMNIIZJCFQXW4V6409IO0L0PT4OSJB1FR44IQPIU3EH9N98K0HZYWP7DGXD3EBAG	O03DLOMUGQV6ZAOQ0WYTL9J6EJH8ODKT8RB088YC10VHJ5MZPGUTI8PKRAX0V0YXIL3XNLRPI31G3QQCWYM1FH3HB1X5Z9S7O0CFIKUNWF25RW2GV7Q5	{"key": "value"}	value2
2	35	491426	915.78	795.7	384.05		2024-02-15	2024-02-13 14:30:16	2024-02-13 14:30:16	20:03:53	7I1MF7T6YP	UISQAVMX3IJLC69JZPRN4IGDF8ZY91NZRV988CHA6KOY8I7QFFWMQHRYDNGJ2A3QHDQ68GHV8F434BZ9A85W3MGWN68ZE3ATIZ16V6N8QCPC1NYR6T0MK7ZQR08ZJJZS73W4JQQZTC3G0EHYAZQIUOK40U02QKLP7RTY8ZY2UFP2KO	'b''6VYRUD'''\0\0\0\0\0\0\0	'b''7N3FR4JO'''	'b''088HDWSAGSHK6NJ8OUN9X44C2O1P7TBWPCQZY6I66RYU44R96ZMJYWV8YV4FD6BJP63SYI0Q846IBG10H7VUML9NH1XH0ZK05Z2WLYZK566CER0RKSNGMPWB9TPR469GGLD2AXH55W7BHHQTOHVKUZ8AQH5H1LJBRFD5OVAP89XXCCHX0JPTGLUMPOBZLPE4HD1LB4JTSX173SZQYNGJGJ4X'''	PEO1HVBF8IM7YUE972NH94JC3FLIVON6ZG1RZ7BK4SFW30L3FPHCZAOMG89	SDUXBPSI5LQNUR912FIW1DSRRZOTWW5MKKHNJLIQ3KWQ5V6M2E	J2VJHMF7INZLIT3BA1DG82PUFQMPXDNGEQ8PA0R1LP83OHDU50XGOARPAXU1H924RLXNXLVQHL95TH33A1IET1LTBOTBTDXK40WUIR9HG2C4A9IR2IK2KW56QOGZU5T9TQ8T2Q4D3H4QK379PT4YWWKF3V707J3AHZ642H83U5L4UJCK5LGN1	{"key": "value"}	value2
3	28	633851	812.25	128.83	592.02		2024-02-26	2024-02-25 16:57:40	2024-02-25 16:57:40	02:03:57	W5CRY0TO7H	X6APELNR42LKDL77DV8ACK7WKBENIK0	'b''PNHMAU'''\0\0\0\0\0\0\0	'b''VFGC2BYMCO'''	'b''GSLRJ72OTZUDZ'''	FK1M1GYAVG5M3CT3XECKN8L96R2GR0398PQUOW2FFUQGF2FPC7KY9QSE	9RSO16E5FR5ICW7CG1G66O35ZDWNZD8ET3BS2LPP17VVUKY6M0G79EJQO46E84GGTVCVYUUI5S2Q5J5AS167Y3ZO3EVFM270ND19BVL83TN43S51VAJFUB195XOLT36N7RT	H3586RZC1JBGEPB90ZRAG09IRKUINGKG0VAYTLPPBE9ULLPWR2F0PDS75Z8BSPC6GZ7Y7SXMNJH7TQLBAROZO93V99KKNKSM34I44AYBK1FSGI5EZ67RJ762DYV79G5OSQEPSI4DWGGRG9XWJ69CPRDQY5OL3WES9BBNJK33315VYC9BD7YOFWC86WANW8GWWWSB9UJVONIZ48YSPJ0CNQ	{"key": "value"}	value2
4	50	195291	48.09	823.15	940.63	\0	2024-02-23	2024-02-02 08:50:02	2024-02-02 08:50:02	09:56:16	6BU2KQDLUC	6BI40OHPT4IDLVFYWRJ802RGIFD7QA7AN8P3RTBCERBB5YFDZ9TPELXNQ0P99ZBMHQ41FWB8OK8NF203FLCPA1H033X679JEUZQUJJV1RENBXP315NQJQRJI90Q1NDEOA5SS7QYAJIF1MW3NT6Y6T37MGJLK0WXP5T77H8WPFDL784DUFYHCVIICCL8VYQ7BYBBS04JC3ZQQNOZ9T3TLLZI6SEXECRY2PE9EWQKPDMN1X5DY5PTIFI5GYQCU6	'b''LMLIPK'''\0\0\0\0\0\0\0	'b''U7HEIU03'''	'b''Z70BPF91QRVRC1GNJSCOVNMFS2GY7Y5GMCOEXGTIA0BV4FZJ3Z7MGIWXSKQDXVGYYRP74A7U5PGMX6VSU6T7WMPYXMYLOMZS'''	P7PSPWLION0BULYOS072YJEKM5HXZED6P7BHU5H435GHD77FH3KP2GGHVHU4ON3BA2VLLWPD5H7Y7QFJ4AYFTLK1SGXQXERRA7V01WISHJ9VXG7ADR7SRU5HMSUU3UFNWG78RO5B7S5XI164UUE87U8B9JSBGUFNWEF02X16RKRV7D3QLV2J2BSZ8XKTZPUB0TOJ5YKFHSWOLPZTERYAQXDS8	95YUDYFELVJJ99K7GZYWIVRQM2Q1WQRYP2OBZ8MHLWDGUQ8M8MTZ7P9E3DHLEX8RE2AA5BFJIDWLFTLLPVK8B4ANVAQBOGL4VL3QGTJ9NIJLQGAIAM4695ZUK83ZR6BO8YV5ZI9UQJI8ANS4IDX1PWYL5JO6E84B1DTD41E322Y5CLFG4K3AQ7ATNZH8FY3NSHJV924GRRWDLEJ5O3KZAK9TFA9L0	71H6UVOE3BVLLKVKAX7BVG6DC0MKLNJRTCTPPI5FZOS8KDV5W8UH2Y63HLV2804LS12NXCDIQ4QM6ZFYD3BG6Q5OLKHPRPIWDQ1MJRL	{"key": "value"}	value2

fetch --source 'mysql://user:password@0.0.0.0:3306/defaultdb' --target 'postgres://root@localhost:26257/defaultdb?sslmode=disable' --table-filter 'test_table' --local-path /tmp/basic --local-path-listen-addr '0.0.0.0:9115' --table-handling 'drop-on-target-and-recreate' --compression=none
----
{"level":"info","message":"user set compression to None"}
{"level":"error","error":"listen tcp 127.0.0.1:3030: bind: address already in use","message":"error exposing metrics endpoints"}
{"level":"info","message":"checking database details"}
{"level":"info","message":"creating schema for tables: [public.test_table]"}
{"level":"info","message":"getting column types for table: public.test_table"}
{"level":"info","message":"finished getting column types for table: public.test_table"}
{"level":"warn","message":"the original schema contains enum type \"defaultdb_test_table_enum_col_enum\", a tentative enum type creation is triggered via \"CREATE TYPE IF NOT EXISTS defaultdb_test_table_enum_col_enum AS ENUM ('value1','value2','value3')\""}
{"level":"info","message":"creating new table with \" CREATE TYPE IF NOT EXISTS defaultdb_test_table_enum_col_enum AS ENUM ('value1','value2','value3'); CREATE TABLE test_table (integer_col INT4 NOT NULL PRIMARY KEY, smallint_col INT2, bigint_col INT8 NOT NULL, decimal_col DECIMAL, float_col FLOAT4, double_col FLOAT8, bit_col VARBIT NOT NULL, date_col DATE, datetime_col TIMESTAMP, timestamp_col TIMESTAMPTZ, time_col TIME NOT NULL, char_col VARCHAR, varchar_col VARCHAR, binary_col BYTES, varbinary_col BYTES, blob_col STRING, text_col STRING NOT NULL, mediumtext_col STRING, longtext_col STRING, json_col JSONB, enum_col defaultdb_test_table_enum_col_enum)\""}
{"level":"info","message":"after recreating table, dbTables: {[[public.test_table public.test_table]] [] []}"}
{"level":"info","message":"verifying common tables"}
{"level":"info","message":"establishing snapshot"}
{"level":"info","type":"summary","num_tables":1,"cdc_cursor":"0/19E3610","message":"starting fetch"}
{"level":"info","message":"data extraction phase starting"}
{"level":"info","type":"summary","num_rows":100,"export_duration_ms":1000,"export_duration":"000h 00m 01s","message":"data extraction from source complete"}
{"level":"info","message":"starting data import on target"}
{"level":"info","message":"imported 100 rows for batch for files 1 to 1"}
{"level":"info","type":"summary","net_duration_ms":1000,"net_duration":"000h 00m 01s","import_duration_ms":1000,"import_duration":"000h 00m 01s","export_duration_ms":1000,"export_duration":"000h 00m 01s","num_rows":100,"cdc_cursor":"0/19E3610","message":"data import on target for table complete"}
{"level":"info","type":"summary","fetch_id":"0000000000","num_tables":1,"tables":["public.test_table"],"cdc_cursor":"0/19E3610","net_duration_ms":1000,"net_duration":"000h 00m 01s","message":"fetch complete"}


verify --source 'mysql://user:password@0.0.0.0:3306/defaultdb' --target 'postgres://root@localhost:26257/defaultdb?sslmode=disable' --table-filter 'test_table'
----
{"level":"error","error":"listen tcp 127.0.0.1:3030: bind: address already in use","message":"error exposing metrics endpoints"}
{"level":"info","message":"verification in progress"}
{"level":"info","message":"starting verify on public.test_table, shard 1/1"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"918.9"},"target_values":{"float_col":"918.9000244140625"},"primary_key":["0"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"930.58"},"target_values":{"float_col":"930.5800170898438"},"primary_key":["1"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"795.7"},"target_values":{"float_col":"795.7000122070312"},"primary_key":["2"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"128.83"},"target_values":{"float_col":"128.8300018310547"},"primary_key":["3"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"823.15"},"target_values":{"float_col":"823.1500244140625"},"primary_key":["4"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"400.78"},"target_values":{"float_col":"400.7799987792969"},"primary_key":["5"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"490.2"},"target_values":{"float_col":"490.20001220703125"},"primary_key":["6"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"420.41"},"target_values":{"float_col":"420.4100036621094"},"primary_key":["7"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"203.03"},"target_values":{"float_col":"203.02999877929688"},"primary_key":["8"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"890.69"},"target_values":{"float_col":"890.6900024414062"},"primary_key":["9"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"417.6"},"target_values":{"float_col":"417.6000061035156"},"primary_key":["10"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"659.71"},"target_values":{"float_col":"659.7100219726562"},"primary_key":["11"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"974.11"},"target_values":{"float_col":"974.1099853515625"},"primary_key":["12"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"965.49"},"target_values":{"float_col":"965.489990234375"},"primary_key":["13"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"249.61"},"target_values":{"float_col":"249.61000061035156"},"primary_key":["14"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"938.98"},"target_values":{"float_col":"938.97998046875"},"primary_key":["15"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"553.64"},"target_values":{"float_col":"553.6400146484375"},"primary_key":["16"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"260.6"},"target_values":{"float_col":"260.6000061035156"},"primary_key":["17"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"209.05"},"target_values":{"float_col":"209.0500030517578"},"primary_key":["18"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"911.4"},"target_values":{"float_col":"911.4000244140625"},"primary_key":["19"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"868.97"},"target_values":{"float_col":"868.969970703125"},"primary_key":["20"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"856.27"},"target_values":{"float_col":"856.27001953125"},"primary_key":["21"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"126.35"},"target_values":{"float_col":"126.3499984741211"},"primary_key":["22"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"199.54"},"target_values":{"float_col":"199.5399932861328"},"primary_key":["23"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"789.41"},"target_values":{"float_col":"789.4099731445312"},"primary_key":["24"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"723.96"},"target_values":{"float_col":"723.9600219726562"},"primary_key":["25"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"871.04"},"target_values":{"float_col":"871.0399780273438"},"primary_key":["26"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"679.6"},"target_values":{"float_col":"679.5999755859375"},"primary_key":["27"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"517.28"},"target_values":{"float_col":"517.280029296875"},"primary_key":["28"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"492.03"},"target_values":{"float_col":"492.0299987792969"},"primary_key":["29"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"537.21"},"target_values":{"float_col":"537.2100219726562"},"primary_key":["30"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"878.86"},"target_values":{"float_col":"878.8599853515625"},"primary_key":["32"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"883.56"},"target_values":{"float_col":"883.5599975585938"},"primary_key":["33"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"837.45"},"target_values":{"float_col":"837.4500122070312"},"primary_key":["35"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"855.43"},"target_values":{"float_col":"855.4299926757812"},"primary_key":["36"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"362.91"},"target_values":{"float_col":"362.9100036621094"},"primary_key":["37"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"899.11"},"target_values":{"float_col":"899.1099853515625"},"primary_key":["38"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"944.54"},"target_values":{"float_col":"944.5399780273438"},"primary_key":["39"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"87.21"},"target_values":{"float_col":"87.20999908447266"},"primary_key":["40"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"969.21"},"target_values":{"float_col":"969.2100219726562"},"primary_key":["41"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"785.38"},"target_values":{"float_col":"785.3800048828125"},"primary_key":["42"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"10.01"},"target_values":{"float_col":"10.010000228881836"},"primary_key":["43"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"176.82"},"target_values":{"float_col":"176.82000732421875"},"primary_key":["44"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"394.84"},"target_values":{"float_col":"394.8399963378906"},"primary_key":["45"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"230.53"},"target_values":{"float_col":"230.52999877929688"},"primary_key":["46"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"555.96"},"target_values":{"float_col":"555.9600219726562"},"primary_key":["47"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"284.1"},"target_values":{"float_col":"284.1000061035156"},"primary_key":["49"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"747.86"},"target_values":{"float_col":"747.8599853515625"},"primary_key":["50"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"123.16"},"target_values":{"float_col":"123.16000366210938"},"primary_key":["51"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"984.27"},"target_values":{"float_col":"984.27001953125"},"primary_key":["52"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"180.42"},"target_values":{"float_col":"180.4199981689453"},"primary_key":["53"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"979.66"},"target_values":{"float_col":"979.6599731445312"},"primary_key":["54"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"285.29"},"target_values":{"float_col":"285.2900085449219"},"primary_key":["56"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"768.19"},"target_values":{"float_col":"768.1900024414062"},"primary_key":["57"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"904.94"},"target_values":{"float_col":"904.9400024414062"},"primary_key":["58"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"336.05"},"target_values":{"float_col":"336.04998779296875"},"primary_key":["59"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"136.79"},"target_values":{"float_col":"136.7899932861328"},"primary_key":["60"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"917.21"},"target_values":{"float_col":"917.2100219726562"},"primary_key":["61"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"368.89"},"target_values":{"float_col":"368.8900146484375"},"primary_key":["63"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"52.78"},"target_values":{"float_col":"52.779998779296875"},"primary_key":["64"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"698.54"},"target_values":{"float_col":"698.5399780273438"},"primary_key":["65"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"669.37"},"target_values":{"float_col":"669.3699951171875"},"primary_key":["66"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"290.26"},"target_values":{"float_col":"290.260009765625"},"primary_key":["67"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"549.98"},"target_values":{"float_col":"549.97998046875"},"primary_key":["68"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"47.1"},"target_values":{"float_col":"47.099998474121094"},"primary_key":["69"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"656.31"},"target_values":{"float_col":"656.3099975585938"},"primary_key":["70"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"674.86"},"target_values":{"float_col":"674.8599853515625"},"primary_key":["71"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"377.79"},"target_values":{"float_col":"377.7900085449219"},"primary_key":["72"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"297.66"},"target_values":{"float_col":"297.6600036621094"},"primary_key":["73"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"953.76"},"target_values":{"float_col":"953.760009765625"},"primary_key":["74"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"45.04"},"target_values":{"float_col":"45.040000915527344"},"primary_key":["75"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"128.42"},"target_values":{"float_col":"128.4199981689453"},"primary_key":["76"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"767.69"},"target_values":{"float_col":"767.6900024414062"},"primary_key":["77"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"264.98"},"target_values":{"float_col":"264.9800109863281"},"primary_key":["78"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"113.32"},"target_values":{"float_col":"113.31999969482422"},"primary_key":["79"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"423.95"},"target_values":{"float_col":"423.95001220703125"},"primary_key":["80"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"153.64"},"target_values":{"float_col":"153.63999938964844"},"primary_key":["81"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"901.49"},"target_values":{"float_col":"901.489990234375"},"primary_key":["82"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"779.15"},"target_values":{"float_col":"779.1500244140625"},"primary_key":["83"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"884.7"},"target_values":{"float_col":"884.7000122070312"},"primary_key":["84"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"201.79"},"target_values":{"float_col":"201.7899932861328"},"primary_key":["85"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"917.01"},"target_values":{"float_col":"917.010009765625"},"primary_key":["86"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"398.7"},"target_values":{"float_col":"398.70001220703125"},"primary_key":["87"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"539.82"},"target_values":{"float_col":"539.8200073242188"},"primary_key":["88"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"376.38"},"target_values":{"float_col":"376.3800048828125"},"primary_key":["89"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"538.12"},"target_values":{"float_col":"538.1199951171875"},"primary_key":["90"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"821.28"},"target_values":{"float_col":"821.280029296875"},"primary_key":["91"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"234.03"},"target_values":{"float_col":"234.02999877929688"},"primary_key":["92"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"330.32"},"target_values":{"float_col":"330.32000732421875"},"primary_key":["93"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"79.36"},"target_values":{"float_col":"79.36000061035156"},"primary_key":["94"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"528.24"},"target_values":{"float_col":"528.239990234375"},"primary_key":["95"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"516.2"},"target_values":{"float_col":"516.2000122070312"},"primary_key":["96"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"594.27"},"target_values":{"float_col":"594.27001953125"},"primary_key":["97"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"525.77"},"target_values":{"float_col":"525.77001953125"},"primary_key":["98"],"message":"mismatching row value"}
{"level":"warn","type":"data","table_schema":"public","table_name":"test_table","source_values":{"float_col":"669.22"},"target_values":{"float_col":"669.219970703125"},"primary_key":["99"],"message":"mismatching row value"}
{"level":"info","type":"summary","table_schema":"public","table_name":"test_table","num_truth_rows":100,"num_success":5,"num_conditional_success":0,"num_missing":0,"num_mismatch":95,"num_extraneous":0,"num_live_retry":0,"num_column_mismatch":0,"message":"finished row verification on public.test_table (shard 1/1)"}
{"level":"info","net_duration_ms":1000,"net_duration":"000h 00m 01s","message":"verification complete"}

exec
psql 'postgres://root@localhost:26257/defaultdb?sslmode=disable' -c "SHOW CREATE TABLE test_table"
----
table_name |                              create_statement                              
------------+----------------------------------------------------------------------------
 test_table | CREATE TABLE public.test_table (                                          +
            |         integer_col INT4 NOT NULL,                                        +
            |         smallint_col INT2 NULL,                                           +
            |         bigint_col INT8 NOT NULL,                                         +
            |         decimal_col DECIMAL NULL,                                         +
            |         float_col FLOAT4 NULL,                                            +
            |         double_col FLOAT8 NULL,                                           +
            |         bit_col VARBIT NOT NULL,                                          +
            |         date_col DATE NULL,                                               +
            |         datetime_col TIMESTAMP NULL,                                      +
            |         timestamp_col TIMESTAMPTZ NULL,                                   +
            |         time_col TIME NOT NULL,                                           +
            |         char_col VARCHAR NULL,                                            +
            |         varchar_col VARCHAR NULL,                                         +
            |         binary_col BYTES NULL,                                            +
            |         varbinary_col BYTES NULL,                                         +
            |         blob_col STRING NULL,                                             +
            |         text_col STRING NOT NULL,                                         +
            |         mediumtext_col STRING NULL,                                       +
            |         longtext_col STRING NULL,                                         +
            |         json_col JSONB NULL,                                              +
            |         enum_col defaultdb.public.defaultdb_test_table_enum_col_enum NULL,+
            |         CONSTRAINT test_table_pkey PRIMARY KEY (integer_col ASC)          +
            | )
(1 row)

exec
psql 'postgres://root@localhost:26257/defaultdb?sslmode=disable' -c "SELECT * FROM test_table ORDER BY integer_col LIMIT 5"
----
integer_col | smallint_col | bigint_col | decimal_col | float_col | double_col | bit_col |  date_col  |    datetime_col     |     timestamp_col      | time_col |  char_col  |                                                                                                                          varchar_col                                                                                                                          |                 binary_col                 |            varbinary_col             |                                                                                                                               blob_col                                                                                                                                |                                                                                                               text_col                                                                                                                |                                                                                                        mediumtext_col                                                                                                         |                                                                                                      longtext_col                                                                                                      |        json_col        | enum_col 
-------------+--------------+------------+-------------+-----------+------------+---------+------------+---------------------+------------------------+----------+------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------+--------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------+----------
           0 |           13 |     281502 |      747.42 |     918.9 |     351.68 | 1       | 2024-02-28 | 2024-02-26 17:34:06 | 2024-02-26 17:34:06+00 | 02:03:40 | G91HNTU2Z3 | 83LXV43UETQRIFV8MFHSFNBOWL256R0MNTK7ZBQSOOD3Y8H1BJDHOKBG88NTHJQ99YTRW38R9O56UY9T4ZU8SIDY9VGF8QXC471CI418SEVD9IINPCBXJDIP910DXC2JX8S7N5W3JI132IUC3WVT4E1PW4GE4A                                                                                                | \x27622727514c4453383027272700000000000000 | \x2762272733475843334533272727       | 'b''6KEJOIFEWZ7PXFWM8AT0EVZXOTSGTZKNOKFK82JN0U5QY2IKO5KDSWQ4O1LA1RELSTWKAXRAF2JG12GWLYH4FDLS6O8ANX63A9AF5PY6FVUDP4GR866Q4E8NXA840CFNLUEQXUR9ZIAA6MCW1R7SBB1E6YWGCPVEN9GWKIDUDX0HB8PVMNE47MGL8HJGP15DIFRLAYLM9TMQ8JI8YCDABEQSIVEH2ZJRCLA6ZM9GHLCBJYL8ZJWMPU56EDMB3B''' | J0WTB4OGVHINVG7141CQDY7ZBWPWORDJMSAH104734QD0CSVEBN5                                                                                                                                                                                  | ACULVIAMIJCIJ7ROC39JND00PDNEN86JXXUI03P2PMWMYSEV0LOGRCQDVTXO3M8T6BIOKZ64YKLNSUI99JIVJRRVTWWKTPT1N020PA6KCE7TC4V9DHZA5540R31QS0CUA6Z2SUERKW5MTLO319A9NPXCMRZ                                                                   | B92SCFGQ4RYWS5C3O1ST0VVA2X5L0I96C61N05QH337HANXZM53H056DO134ZXRETOYDU18JGIJQ9I2KJPFENUIX3HL9V6V4VRTGOLNOTRMMUA4O6QFILX66FTPAMZP621DYMTEG88UE4GR8EJVLCWA6                                                               | "{\"key\": \"value\"}" | value2
           1 |           76 |     543316 |      208.68 |    930.58 |     232.24 | 0       | 2024-02-28 | 2024-02-19 11:52:04 | 2024-02-19 11:52:04+00 | 10:02:37 | 6UMOWJ7TAJ | WUHSME0CELK3640KXHC6H5ECIN6WNQQEM0GNYLGXEC0Z7QXIA1J                                                                                                                                                                                                           | \x276227275548324b5a4827272700000000000000 | \x27622727494c54272727               | 'b''BTT40APNUSDRYVXEEBBMMY1RZX54TZXCY37Z83KFQ8RH9OEP1J0SHHO6UG88CK0KTL8LMY820KCITDZK5R7WKZBDPQSZC8R0YARYARIHEU7VQK22CRLS'''                                                                                                                                           | R58A3SJOFY2J18Z7NQH1QZBHJYNSMWM0AB0L5VEEUEVZN220CMUER9QWGI9FBBCH4H1Q4EYVSKKFIOAEZ56G3MGI7IECJQB5LZP1CMM9LEYTFI3KYOROYRDFUNR9WBJ6JU10AL3TMAXB8TSYEO5CIL3HWZTKOG3HE9TXA0FKI1B8ZU3Q4OYMT5HS8ASZOASIQP042BZ8BX6LUT3E3XKPIA1NU20ZLV43216EG | V2PFF1L2Y6QQKMEOVSFEGD37MF91TGZWMNIIZJCFQXW4V6409IO0L0PT4OSJB1FR44IQPIU3EH9N98K0HZYWP7DGXD3EBAG                                                                                                                               | O03DLOMUGQV6ZAOQ0WYTL9J6EJH8ODKT8RB088YC10VHJ5MZPGUTI8PKRAX0V0YXIL3XNLRPI31G3QQCWYM1FH3HB1X5Z9S7O0CFIKUNWF25RW2GV7Q5                                                                                                   | "{\"key\": \"value\"}" | value2
           2 |           35 |     491426 |      915.78 |     795.7 |     384.05 | 1       | 2024-02-15 | 2024-02-13 14:30:16 | 2024-02-13 14:30:16+00 | 20:03:53 | 7I1MF7T6YP | UISQAVMX3IJLC69JZPRN4IGDF8ZY91NZRV988CHA6KOY8I7QFFWMQHRYDNGJ2A3QHDQ68GHV8F434BZ9A85W3MGWN68ZE3ATIZ16V6N8QCPC1NYR6T0MK7ZQR08ZJJZS73W4JQQZTC3G0EHYAZQIUOK40U02QKLP7RTY8ZY2UFP2KO                                                                                | \x2762272736565952554427272700000000000000 | \x27622727374e334652344a4f272727     | 'b''088HDWSAGSHK6NJ8OUN9X44C2O1P7TBWPCQZY6I66RYU44R96ZMJYWV8YV4FD6BJP63SYI0Q846IBG10H7VUML9NH1XH0ZK05Z2WLYZK566CER0RKSNGMPWB9TPR469GGLD2AXH55W7BHHQTOHVKUZ8AQH5H1LJBRFD5OVAP89XXCCHX0JPTGLUMPOBZLPE4HD1LB4JTSX173SZQYNGJGJ4X'''                                       | PEO1HVBF8IM7YUE972NH94JC3FLIVON6ZG1RZ7BK4SFW30L3FPHCZAOMG89                                                                                                                                                                           | SDUXBPSI5LQNUR912FIW1DSRRZOTWW5MKKHNJLIQ3KWQ5V6M2E                                                                                                                                                                            | J2VJHMF7INZLIT3BA1DG82PUFQMPXDNGEQ8PA0R1LP83OHDU50XGOARPAXU1H924RLXNXLVQHL95TH33A1IET1LTBOTBTDXK40WUIR9HG2C4A9IR2IK2KW56QOGZU5T9TQ8T2Q4D3H4QK379PT4YWWKF3V707J3AHZ642H83U5L4UJCK5LGN1                                  | "{\"key\": \"value\"}" | value2
           3 |           28 |     633851 |      812.25 |    128.83 |     592.02 | 1       | 2024-02-26 | 2024-02-25 16:57:40 | 2024-02-25 16:57:40+00 | 02:03:57 | W5CRY0TO7H | X6APELNR42LKDL77DV8ACK7WKBENIK0                                                                                                                                                                                                                               | \x27622727504e484d415527272700000000000000 | \x27622727564647433242594d434f272727 | 'b''GSLRJ72OTZUDZ'''                                                                                                                                                                                                                                                  | FK1M1GYAVG5M3CT3XECKN8L96R2GR0398PQUOW2FFUQGF2FPC7KY9QSE                                                                                                                                                                              | 9RSO16E5FR5ICW7CG1G66O35ZDWNZD8ET3BS2LPP17VVUKY6M0G79EJQO46E84GGTVCVYUUI5S2Q5J5AS167Y3ZO3EVFM270ND19BVL83TN43S51VAJFUB195XOLT36N7RT                                                                                           | H3586RZC1JBGEPB90ZRAG09IRKUINGKG0VAYTLPPBE9ULLPWR2F0PDS75Z8BSPC6GZ7Y7SXMNJH7TQLBAROZO93V99KKNKSM34I44AYBK1FSGI5EZ67RJ762DYV79G5OSQEPSI4DWGGRG9XWJ69CPRDQY5OL3WES9BBNJK33315VYC9BD7YOFWC86WANW8GWWWSB9UJVONIZ48YSPJ0CNQ | "{\"key\": \"value\"}" | value2
           4 |           50 |     195291 |       48.09 |    823.15 |     940.63 | 0       | 2024-02-23 | 2024-02-02 08:50:02 | 2024-02-02 08:50:02+00 | 09:56:16 | 6BU2KQDLUC | 6BI40OHPT4IDLVFYWRJ802RGIFD7QA7AN8P3RTBCERBB5YFDZ9TPELXNQ0P99ZBMHQ41FWB8OK8NF203FLCPA1H033X679JEUZQUJJV1RENBXP315NQJQRJI90Q1NDEOA5SS7QYAJIF1MW3NT6Y6T37MGJLK0WXP5T77H8WPFDL784DUFYHCVIICCL8VYQ7BYBBS04JC3ZQQNOZ9T3TLLZI6SEXECRY2PE9EWQKPDMN1X5DY5PTIFI5GYQCU6 | \x276227274c4d4c49504b27272700000000000000 | \x276227275537484549553033272727     | 'b''Z70BPF91QRVRC1GNJSCOVNMFS2GY7Y5GMCOEXGTIA0BV4FZJ3Z7MGIWXSKQDXVGYYRP74A7U5PGMX6VSU6T7WMPYXMYLOMZS'''                                                                                                                                                               | P7PSPWLION0BULYOS072YJEKM5HXZED6P7BHU5H435GHD77FH3KP2GGHVHU4ON3BA2VLLWPD5H7Y7QFJ4AYFTLK1SGXQXERRA7V01WISHJ9VXG7ADR7SRU5HMSUU3UFNWG78RO5B7S5XI164UUE87U8B9JSBGUFNWEF02X16RKRV7D3QLV2J2BSZ8XKTZPUB0TOJ5YKFHSWOLPZTERYAQXDS8             | 95YUDYFELVJJ99K7GZYWIVRQM2Q1WQRYP2OBZ8MHLWDGUQ8M8MTZ7P9E3DHLEX8RE2AA5BFJIDWLFTLLPVK8B4ANVAQBOGL4VL3QGTJ9NIJLQGAIAM4695ZUK83ZR6BO8YV5ZI9UQJI8ANS4IDX1PWYL5JO6E84B1DTD41E322Y5CLFG4K3AQ7ATNZH8FY3NSHJV924GRRWDLEJ5O3KZAK9TFA9L0 | 71H6UVOE3BVLLKVKAX7BVG6DC0MKLNJRTCTPPI5FZOS8KDV5W8UH2Y63HLV2804LS12NXCDIQ4QM6ZFYD3BG6Q5OLKHPRPIWDQ1MJRL                                                                                                                | "{\"key\": \"value\"}" | value2
(5 rows)
